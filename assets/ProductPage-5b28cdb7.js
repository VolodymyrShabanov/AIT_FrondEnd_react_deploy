import{r as c,u,j as t,a as j,b as x,t as v,L as y,M as m,d as _,l as C,m as S,c as b}from"./index-45f8cfb8.js";const N="_productList_1agsp_1",P={productList:N},w="_formContainer_104as_1",L="_form_104as_1",E="_button_104as_29",g={formContainer:w,form:L,button:E};function z(i,n){const r=localStorage.getItem(i);return r!==null?JSON.parse(r):n}function A(i,n){const[r,e]=c.useState(()=>z(i,n));return c.useEffect(()=>{localStorage.setItem(i,JSON.stringify(r))},[i,r]),[r,e]}const I=()=>{const i=u(),[n,r]=c.useState(""),[e,a]=A("product",{title:"",description:"",category:"",price:"",image:""}),s=o=>{const{name:h,value:f}=o.target;a({...e,[h]:f})};function l(){const o=/^(https?:\/\/)?([\w.-]+\.\w{2,})(\/\S*)?$/;return e.title.trim()===""?(r("title is not valid"),!1):e.description.trim()===""?(r("description is not valid"),!1):e.category.trim()===""?(r("category is not valid"),!1):e.price.trim()===""||Number.isNaN(Number(e.price))?(r("price is not valid"),!1):o.test(e.image)?!0:(r("url is not valid"),!1)}const d=o=>{o.preventDefault(),r(""),sessionStorage.setItem("price",e.price),console.log(e),l()&&i(j(e))};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:g.formContainer,children:t.jsxs("form",{className:g.form,onSubmit:d,action:"",children:[t.jsx("label",{children:"Add new product"}),t.jsx("input",{name:"title",onChange:s,placeholder:"title",type:"text",value:e.title}),t.jsx("input",{name:"description",onChange:s,placeholder:"description",type:"text",value:e.description}),t.jsx("input",{name:"category",onChange:s,placeholder:"category",type:"text",value:e.category}),t.jsx("input",{name:"price",onChange:s,placeholder:"price",type:"text",value:e.price}),t.jsx("input",{name:"image",onChange:s,placeholder:"image",type:"text",value:e.image}),t.jsx("button",{type:"submit",className:"button",children:"Add file"})]})}),t.jsx("div",{style:{textAlign:"center"},children:n&&t.jsx("span",{style:{color:"red"},children:n})})]})},V="_productCard_1tdz3_3",W="_title_1tdz3_23",D="_imgWrapper_1tdz3_37",p={productCard:V,title:W,imgWrapper:D},F=({id:i,title:n,description:r,image:e,price:a})=>{const s=u(),{favorites:l}=x(d=>d.products);return t.jsx("div",{children:t.jsxs("li",{className:p.productCard,children:[t.jsx("span",{className:p.title,children:n}),t.jsx("div",{className:p.imgWrapper,children:t.jsx("img",{src:e,alt:""})}),t.jsxs("span",{style:{color:"green",fontSize:40},children:["Price: ",a," â‚¬"]}),t.jsx("svg",{style:{cursor:"pointer"},onClick:()=>s(v(i)),width:"30px",height:"30px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",version:"1.1",fill:l.includes(i)?"#e74c3c":"grey",children:t.jsx("g",{transform:"translate(0 -1028.4)",children:t.jsx("path",{d:"m7 1031.4c-1.5355 0-3.0784 0.5-4.25 1.7-2.3431 2.4-2.2788 6.1 0 8.5l9.25 9.8 9.25-9.8c2.279-2.4 2.343-6.1 0-8.5-2.343-2.3-6.157-2.3-8.5 0l-0.75 0.8-0.75-0.8c-1.172-1.2-2.7145-1.7-4.25-1.7z"})})}),t.jsx(y,{to:String(i),children:t.jsx(m,{text:"to products page"})}),t.jsx(m,{text:"Delete",onClick:()=>s(_(i))})]},i)})},B=()=>{const i=u(),{products:n,error:r,isLoading:e}=x(s=>s.products);c.useEffect(()=>{i(C())},[]);const a={hidden:{opacity:1,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.8}}};return t.jsxs(S.div,{initial:"hidden",animate:"visible",variants:a,children:[t.jsx(I,{}),e&&t.jsx(b,{}),r&&t.jsxs("h4",{style:{color:"red"},children:["Error ",r]}),!e&&t.jsx("ul",{className:P.productList,children:n.map(s=>t.jsx(F,{id:s.id,title:s.title,description:s.description,image:s.image,price:s.price},s.id))})]})};export{B as default};
//# sourceMappingURL=ProductPage-5b28cdb7.js.map
