import{r as l,u as m,j as t,a as j,b as u,t as v,L as y,M as g,d as _,l as C,N,m as S,c as b}from"./index-a224874c.js";const P="_productList_1agsp_1",w={productList:P},L="_formContainer_104as_1",E="_form_104as_1",z="_button_104as_29",x={formContainer:L,form:E,button:z};function A(r,n){const s=localStorage.getItem(r);return s!==null?JSON.parse(s):n}function I(r,n){const[s,e]=l.useState(()=>A(r,n));return l.useEffect(()=>{localStorage.setItem(r,JSON.stringify(s))},[r,s]),[s,e]}const V=()=>{const r=m(),[n,s]=l.useState(""),[e,o]=I("product",{title:"",description:"",category:"",price:"",image:""}),a=c=>{const{name:h,value:f}=c.target;o({...e,[h]:f})};function i(){const c=/^(https?:\/\/)?([\w.-]+\.\w{2,})(\/\S*)?$/;return e.title.trim()===""?(s("title is not valid"),!1):e.description.trim()===""?(s("description is not valid"),!1):e.category.trim()===""?(s("category is not valid"),!1):e.price.trim()===""||Number.isNaN(Number(e.price))?(s("price is not valid"),!1):c.test(e.image)?!0:(s("url is not valid"),!1)}const d=c=>{c.preventDefault(),s(""),sessionStorage.setItem("price",e.price),console.log(e),i()&&r(j(e))};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:x.formContainer,children:t.jsxs("form",{className:x.form,onSubmit:d,action:"",children:[t.jsx("label",{children:"Add new product"}),t.jsx("input",{name:"title",onChange:a,placeholder:"title",type:"text",value:e.title}),t.jsx("input",{name:"description",onChange:a,placeholder:"description",type:"text",value:e.description}),t.jsx("input",{name:"category",onChange:a,placeholder:"category",type:"text",value:e.category}),t.jsx("input",{name:"price",onChange:a,placeholder:"price",type:"text",value:e.price}),t.jsx("input",{name:"image",onChange:a,placeholder:"image",type:"text",value:e.image}),t.jsx("button",{type:"submit",className:"button",children:"Add file"})]})}),t.jsx("div",{style:{textAlign:"center"},children:n&&t.jsx("span",{style:{color:"red"},children:n})})]})},W="_productCard_1tdz3_3",D="_title_1tdz3_23",F="_imgWrapper_1tdz3_37",p={productCard:W,title:D,imgWrapper:F},k=({id:r,title:n,description:s,image:e,price:o})=>{const a=m(),{favorites:i}=u(d=>d.products);return t.jsx("div",{children:t.jsxs("li",{className:p.productCard,children:[t.jsx("span",{className:p.title,children:n}),t.jsx("div",{className:p.imgWrapper,children:t.jsx("img",{src:e,alt:""})}),t.jsxs("span",{style:{color:"green",fontSize:40},children:["Price: ",o," â‚¬"]}),t.jsx("svg",{style:{cursor:"pointer"},onClick:()=>a(v(r)),width:"30px",height:"30px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",version:"1.1",fill:i.includes(r)?"#e74c3c":"grey",children:t.jsx("g",{transform:"translate(0 -1028.4)",children:t.jsx("path",{d:"m7 1031.4c-1.5355 0-3.0784 0.5-4.25 1.7-2.3431 2.4-2.2788 6.1 0 8.5l9.25 9.8 9.25-9.8c2.279-2.4 2.343-6.1 0-8.5-2.343-2.3-6.157-2.3-8.5 0l-0.75 0.8-0.75-0.8c-1.172-1.2-2.7145-1.7-4.25-1.7z"})})}),t.jsx(y,{to:String(r),children:t.jsx(g,{text:"to products page"})}),t.jsx(g,{text:"Delete",onClick:()=>a(_(r))})]},r)})},J=()=>{const r=m(),{products:n,error:s,isLoading:e}=u(i=>i.products),{user:o}=u(i=>i.user);l.useEffect(()=>{r(C())},[]);const a={hidden:{opacity:1,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.8}}};return o?t.jsxs(S.div,{initial:"hidden",animate:"visible",variants:a,children:[t.jsx(V,{}),e&&t.jsx(b,{}),s&&t.jsxs("h4",{style:{color:"red"},children:["Error ",s]}),!e&&t.jsx("ul",{className:w.productList,children:n.map(i=>t.jsx(k,{id:i.id,title:i.title,description:i.description,image:i.image,price:i.price},i.id))})]}):t.jsx(N,{to:"../login"})};export{J as default};
//# sourceMappingURL=ProductPage-98604958.js.map
